<!DOCTYPE html>
<html>
    <head>
        {% include 'components/head.html.twig' %}
    </head>
    <body class="bg-gray-100 min-h-screen flex flex-col"> 
        {% include 'components/header.html.twig' %}

        {% block body %}
        <div class="flex flex-col items-center space-y-8 w-full"> 

            <section id="Image-Container" class="flex flex-wrap md:flex-nowrap">
                <img id="image1" src="{{ homepageImages.image1 ? asset('uploads/homepage/' ~ homepageImages.image1)  }}" 
                     alt="Image 1" class="w-full md:w-1/2 h-[800px] object-cover">
                
                <img id="image2" src="{{ homepageImages.image2 ? asset('uploads/homepage/' ~ homepageImages.image2)  }}" 
                     alt="Image 2" class="w-full md:w-1/2 h-[800px] object-cover">
            </section>

            <section id="NewItems" class="w-full p-6 overflow-hidden">
                <h1 class="text-2xl font-bold text-center">News Items</h1>
                <p class="text-gray-600 text-center">Dernières actualités et nouveautés</p>
                <div class="snap-x snap-mandatory overflow-x-auto w-full flex space-x-6">
                    {% for article in articles %}
                    <div class="snap-center w-80 flex-shrink-0 flex flex-col items-center text-center">
                        <img src="{{ article.imageUrl ? asset('uploads/articles/' ~ article.imageUrl) : asset('assets/default-image.jpg') }}" 
                             alt="{{ article.name }}" 
                             class="h-64 object-cover transition-opacity duration-300 hover:opacity-90"
                             onerror="this.src='https://picsum.photos/400/400/?random={{ article.id }}'"/>
                        <div class="mt-2">
                            <strong>{{ article.name }}</strong><br>
                            <span class="text-gray-700">€{{ article.price }}</span>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>
            
            
                   
            <section id="SeeMore" class="w-full text-center mt-8 mb-12">
                <a href="/articles" class="text-blue-600 hover:text-blue-800 text-lg font-semibold">Voir plus</a>
            </section>
            
            <section id="Categories" class="w-full p-6 overflow-hidden">
                <h1 class="text-2xl font-bold text-center">Catégories</h1>
                <div class="snap-x snap-mandatory overflow-x-auto w-full flex justify-start space-x-6">
                    {% set categories = ['Vêtements', 'Personnalisable', 'Accessoires', 'Papeterie'] %}
                    {% set images = [
                        'https://picsum.photos/400/400/?random=1', 
                        'https://picsum.photos/400/400/?random=2', 
                        'https://picsum.photos/400/400/?random=3', 
                        'https://picsum.photos/400/400/?random=4'
                    ] %}
            
                    {% for i in 0..3 %}
                    <div class="snap-center w-80 flex-shrink-0 text-center">
                        <a href="/category/{{ categories[i]|lower }}" class="block">
                            <img src="{{ images[i] }}" alt="{{ categories[i] }}" class="w-full h-auto object-cover mx-auto">
                            <div class="mt-2">
                                <strong>{{ categories[i] }}</strong><br>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </div>

        {% include 'components/footer.html.twig' %}
        {% endblock %}
    </body>

    <script>
        function setImageSize() {
            const screenWidth = window.innerWidth;
            const image1 = document.getElementById("image1");
            const image2 = document.getElementById("image2");

            if (screenWidth < 768) { 
                // Mobile : pleine largeur et hauteur proportionnelle
                const mobileHeight = Math.round(window.innerHeight * 0.5);
                image1.style.width = "100%";
                image2.style.width = "100%";
                image1.style.height = `${mobileHeight}px`;
                image2.style.height = `${mobileHeight}px`;

            } else { 
                // Desktop : 50% de largeur, 800px de hauteur
                image1.style.width = "50%";
                image2.style.width = "50%";
                image1.style.height = "800px";
                image2.style.height = "800px";

            }
        }

        window.onload = setImageSize;
        window.onresize = setImageSize;
    </script>
</html>
